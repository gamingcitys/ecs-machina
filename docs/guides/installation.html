<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Installation &amp; Setup | ECS Machina</title>
    <meta name="description" content="An Entity-Component-System library">
    
    
    <link rel="preload" href="/ecs-machina/assets/css/0.styles.be4709e2.css" as="style"><link rel="preload" href="/ecs-machina/assets/js/app.a6befe2f.js" as="script"><link rel="preload" href="/ecs-machina/assets/js/2.a44be2b1.js" as="script"><link rel="preload" href="/ecs-machina/assets/js/10.295e66d9.js" as="script"><link rel="prefetch" href="/ecs-machina/assets/js/11.44c12100.js"><link rel="prefetch" href="/ecs-machina/assets/js/12.198e5bcc.js"><link rel="prefetch" href="/ecs-machina/assets/js/13.60741dd3.js"><link rel="prefetch" href="/ecs-machina/assets/js/3.1a3a23bb.js"><link rel="prefetch" href="/ecs-machina/assets/js/4.7bf71852.js"><link rel="prefetch" href="/ecs-machina/assets/js/5.a55a6bde.js"><link rel="prefetch" href="/ecs-machina/assets/js/6.71227507.js"><link rel="prefetch" href="/ecs-machina/assets/js/7.45c23666.js"><link rel="prefetch" href="/ecs-machina/assets/js/8.11d93c42.js"><link rel="prefetch" href="/ecs-machina/assets/js/9.d9f3a9e3.js">
    <link rel="stylesheet" href="/ecs-machina/assets/css/0.styles.be4709e2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/ecs-machina/" class="home-link router-link-active"><!----> <span class="site-name">ECS Machina</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/ecs-machina/" class="nav-link">Home</a></div><div class="nav-item"><a href="/ecs-machina/guides/" class="nav-link router-link-active">Guides</a></div><div class="nav-item"><a href="https://scambier.github.io/ecs-machina/api" target="_blank" rel="noopener noreferrer" class="nav-link external">
  API
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/ecs-machina/" class="nav-link">Home</a></div><div class="nav-item"><a href="/ecs-machina/guides/" class="nav-link router-link-active">Guides</a></div><div class="nav-item"><a href="https://scambier.github.io/ecs-machina/api" target="_blank" rel="noopener noreferrer" class="nav-link external">
  API
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/ecs-machina/guides/installation.html" class="active sidebar-link">Installation &amp; Setup</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ecs-machina/guides/installation.html#installation" class="sidebar-link">Installation</a></li><li class="sidebar-sub-header"><a href="/ecs-machina/guides/installation.html#setup" class="sidebar-link">Setup</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/ecs-machina/guides/installation.html#create-the-world" class="sidebar-link">Create the World</a></li><li class="sidebar-sub-header"><a href="/ecs-machina/guides/installation.html#update-the-world" class="sidebar-link">Update the World</a></li><li class="sidebar-sub-header"><a href="/ecs-machina/guides/installation.html#draw-the-world" class="sidebar-link">Draw the World</a></li></ul></li></ul></li><li><a href="/ecs-machina/guides/world.html" class="sidebar-link">World</a></li><li><a href="/ecs-machina/guides/entity.html" class="sidebar-link">Entity</a></li><li><a href="/ecs-machina/guides/component.html" class="sidebar-link">Component</a></li><li><a href="/ecs-machina/guides/system.html" class="sidebar-link">System</a></li><li><a href="/ecs-machina/guides/assemblage.html" class="sidebar-link">Assemblage</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="installation-setup"><a href="#installation-setup" aria-hidden="true" class="header-anchor">#</a> Installation &amp; Setup</h1> <h2 id="installation"><a href="#installation" aria-hidden="true" class="header-anchor">#</a> Installation</h2> <p><code>npm install ecs-machina</code></p> <h2 id="setup"><a href="#setup" aria-hidden="true" class="header-anchor">#</a> Setup</h2> <p>ECS-Machina, by itself, does not do much. As its main goal is to manage your Entities through Systems and Components, you must integrate it into your game or engine.</p> <h3 id="create-the-world"><a href="#create-the-world" aria-hidden="true" class="header-anchor">#</a> Create the World</h3> <p>The <code>World</code> instance is the central point of ECS-Machina. It manages and maintains references to Entities, Components and Systems.</p> <div class="tip custom-block"><p>The code snippets given in example are, of course, non functional. How exactly you will integrate ECS-Machina inside your game depends of your engine.</p></div> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> World <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'ecs-machina'</span>

<span class="token keyword">class</span> <span class="token class-name">MyGame</span> <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>world <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">World</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><h3 id="update-the-world"><a href="#update-the-world" aria-hidden="true" class="header-anchor">#</a> Update the World</h3> <p>Now that your World is created, you need to keep it updated in your game loop. The World will update all the registered Systems, that will in turn update all their relevant Components.</p> <p>How you will do this depends of course of your engine</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">MyGame</span> <span class="token punctuation">{</span>

  <span class="token comment">// This method is automatically called by your engine, 60 times per second</span>
  <span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>world<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="draw-the-world"><a href="#draw-the-world" aria-hidden="true" class="header-anchor">#</a> Draw the World</h3> <p>Updating Components without using these data to render Entities on your game is not really useful. But how you render your game strongly depends on the engine. It's left up to you on when to call your Systems' <code>drawEntities()</code> method.</p> <p>As an example, here's roughly how it works in Squared:</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">MyGame</span> <span class="token punctuation">{</span>

  <span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">clearScreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment">// Loop through layers</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> layer <span class="token keyword">of</span> <span class="token keyword">this</span><span class="token punctuation">.</span>level<span class="token punctuation">.</span>layers<span class="token punctuation">)</span> <span class="token punctuation">{</span>

      <span class="token comment">// Draw the layer's background</span>
      layer<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

      <span class="token comment">// Draw entities for the current layer</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> system <span class="token keyword">of</span> ig<span class="token punctuation">.</span>world<span class="token punctuation">.</span><span class="token function">getSystems</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        system<span class="token punctuation">.</span><span class="token function">drawEntities</span><span class="token punctuation">(</span><span class="token punctuation">{</span> layerName<span class="token punctuation">:</span> layer<span class="token punctuation">.</span>name <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Draw entities without layer</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> system <span class="token keyword">of</span> ig<span class="token punctuation">.</span>world<span class="token punctuation">.</span><span class="token function">getSystems</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      system<span class="token punctuation">.</span><span class="token function">drawEntities</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Please see the <a href="/ecs-machina/guides/system/">System</a>'s documentation for more details.</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">6/25/2019, 9:42:58 PM</span></div></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/ecs-machina/guides/world.html">
          World
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/ecs-machina/assets/js/app.a6befe2f.js" defer></script><script src="/ecs-machina/assets/js/2.a44be2b1.js" defer></script><script src="/ecs-machina/assets/js/10.295e66d9.js" defer></script>
  </body>
</html>
